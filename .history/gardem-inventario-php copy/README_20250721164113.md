# Sistema de Inventario - M√≥dulo Almacenista

## üìã Descripci√≥n

Sistema de gesti√≥n de inventario espec√≠ficamente dise√±ado para almacenistas, que permite gestionar entradas, salidas, traslados, garant√≠as, devoluciones y sincronizaci√≥n con inventario en l√≠nea.

## üéØ Caracter√≠sticas Principales

### Flujo del Almacenista
- **Entradas**: Compras, garant√≠as, devoluciones, traslados, ver todo
- **Salidas**: Ventas, garant√≠as, devoluciones, traslados, ver todo
- **Gesti√≥n de Inventario**: Actualizaci√≥n manual y sincronizaci√≥n en l√≠nea
- **Gesti√≥n de Entregas**: Procesamiento de ventas pendientes de entrega
- **Sincronizaci√≥n**: Inventario en l√≠nea para coordinaci√≥n con vendedores

### Funcionalidades
- ‚úÖ Panel de control con estad√≠sticas en tiempo real
- ‚úÖ Gesti√≥n completa de movimientos de inventario
- ‚úÖ Sistema de entregas con actualizaci√≥n autom√°tica de stock
- ‚úÖ Sincronizaci√≥n con base de datos en l√≠nea
- ‚úÖ Exportaci√≥n de reportes (CSV, Excel, PDF)
- ‚úÖ Filtros avanzados y b√∫squeda
- ‚úÖ Historial completo de movimientos
- ‚úÖ Alertas de stock bajo y productos agotados

## üöÄ Instalaci√≥n

### Requisitos
- PHP 7.4 o superior
- MySQL 5.7 o superior
- Servidor web (Apache/Nginx)
- Extensiones PHP: PDO, PDO_MySQL

### Pasos de Instalaci√≥n

1. **Clonar o descargar el proyecto**
   ```bash
   git clone [url-del-repositorio]
   cd gardem-inventario-php
   ```

2. **Configurar la base de datos**
   - Crear una base de datos MySQL llamada `gardem_inventario`
   - El sistema crear√° autom√°ticamente las tablas necesarias

3. **Configurar la conexi√≥n**
   - Editar `config/database.php`
   - Ajustar los par√°metros de conexi√≥n:
     ```php
     $host = 'localhost';
     $dbname = 'gardem_inventario';
     $username = 'tu_usuario';
     $password = 'tu_password';
     ```

4. **Configurar el servidor web**
   - Apuntar el DocumentRoot al directorio del proyecto
   - Asegurar que PHP tenga permisos de escritura

5. **Acceder al sistema**
   - URL: `http://localhost/gardem-inventario-php`
   - Credenciales por defecto:
     - Email: `almacenista@test.com`
     - Password: `almacenista123`

## üìÅ Estructura del Proyecto

```
gardem-inventario-php/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.php          # Configuraci√≥n de base de datos
‚îú‚îÄ‚îÄ controlador/
‚îÇ   ‚îú‚îÄ‚îÄ ControladorAuth.php   # Autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ ControladorIndex.php  # L√≥gica principal del almacenista
‚îú‚îÄ‚îÄ vista/
‚îÇ   ‚îú‚îÄ‚îÄ menu_principal.php    # Panel de control
‚îÇ   ‚îú‚îÄ‚îÄ ver_ventas.php        # Gesti√≥n de ventas
‚îÇ   ‚îú‚îÄ‚îÄ entregar.php          # Gesti√≥n de entregas
‚îÇ   ‚îú‚îÄ‚îÄ ventas.php            # Vista completa de ventas
‚îÇ   ‚îú‚îÄ‚îÄ ver_todo.php          # Todos los movimientos
‚îÇ   ‚îú‚îÄ‚îÄ actualizar_inventario.php # Actualizaci√≥n manual
‚îÇ   ‚îî‚îÄ‚îÄ inventario_en_linea.php   # Sincronizaci√≥n
‚îú‚îÄ‚îÄ index.php                 # Punto de entrada
‚îú‚îÄ‚îÄ login.php                 # P√°gina de login
‚îî‚îÄ‚îÄ README.md                 # Este archivo
```

## üîß Configuraci√≥n

### Base de Datos
El sistema crea autom√°ticamente las siguientes tablas:

- `usuario` - Usuarios del sistema (almacenistas)
- `bodega` - Bodegas/almacenes
- `productos` - Cat√°logo de productos
- `inventario_bodega` - Stock por bodega
- `inventario_en_linea` - Sincronizaci√≥n en l√≠nea
- `movimientos_inventario` - Historial de movimientos
- `ventas` y `ventas_productos` - Gesti√≥n de ventas
- `entradas` y `entradas_detalle` - Compras y entradas
- `salidas` y `salidas_detalle` - Salidas de inventario
- `traslados` y `traslados_detalle` - Movimientos entre bodegas
- `garantias` y `garantias_detalle` - Gesti√≥n de garant√≠as
- `devoluciones` y `devoluciones_detalle` - Devoluciones
- `cliente` - Clientes
- `proveedor` - Proveedores

### Usuarios
- **Rol**: `almacenista`
- **Permisos**: Gesti√≥n completa del inventario f√≠sico
- **Acceso**: Solo a funciones de almacenista

## üìñ Uso del Sistema

### 1. Login
- Acceder con credenciales de almacenista
- El sistema verifica el rol y redirige al panel principal

### 2. Panel Principal
- **Estad√≠sticas**: Resumen de inventario y entregas pendientes
- **Acciones R√°pidas**: Acceso directo a funciones principales
- **Movimientos Recientes**: √öltimos cambios en el inventario

### 3. Gesti√≥n de Entregas
- Ver ventas pendientes de entrega
- Marcar productos como entregados
- Actualizaci√≥n autom√°tica del stock f√≠sico
- Sincronizaci√≥n con inventario en l√≠nea

### 4. Actualizaci√≥n de Inventario
- Ajuste manual de stock
- Configuraci√≥n de stock m√≠nimo/m√°ximo
- Registro de movimientos con observaciones
- Sincronizaci√≥n autom√°tica

### 5. Sincronizaci√≥n en L√≠nea
- Estado de sincronizaci√≥n por producto
- Sincronizaci√≥n manual o autom√°tica
- Verificaci√≥n de conexi√≥n
- Control de versiones

## üîÑ Flujo de Trabajo

### Entrada de Productos
1. Registrar entrada (compra, garant√≠a, devoluci√≥n, traslado)
2. Actualizar stock en inventario_bodega
3. Sincronizar con inventario_en_linea
4. Registrar movimiento en historial

### Salida de Productos
1. Procesar venta o salida
2. Verificar stock disponible
3. Descontar del inventario f√≠sico
4. Sincronizar con inventario en l√≠nea
5. Registrar movimiento

### Gesti√≥n de Entregas
1. Ver ventas pendientes de entrega
2. Confirmar entrega de productos
3. Actualizar estado de venta
4. Descontar stock f√≠sico
5. Sincronizar inventario en l√≠nea

## üìä Reportes y Exportaci√≥n

### Tipos de Reportes
- **Ventas**: Historial completo con filtros
- **Inventario**: Estado actual por bodega
- **Movimientos**: Historial de todos los movimientos
- **Sincronizaci√≥n**: Estado de sincronizaci√≥n en l√≠nea

### Formatos de Exportaci√≥n
- CSV para an√°lisis en Excel
- PDF para impresi√≥n
- Excel nativo con formato

## üîí Seguridad

### Autenticaci√≥n
- Login con email y password
- Verificaci√≥n de rol espec√≠fico
- Sesiones seguras
- Logout autom√°tico

### Validaci√≥n
- Validaci√≥n de datos de entrada
- Sanitizaci√≥n de consultas SQL
- Control de acceso por rol
- Logs de actividades

## üõ†Ô∏è Mantenimiento

### Backup de Base de Datos
```bash
mysqldump -u usuario -p gardem_inventario > backup_$(date +%Y%m%d).sql
```

### Logs del Sistema
- Los errores se registran en el log de PHP
- Movimientos importantes se registran en la base de datos
- Historial completo de cambios disponible

### Actualizaciones
1. Hacer backup de la base de datos
2. Actualizar archivos del sistema
3. Ejecutar scripts de migraci√≥n si es necesario
4. Verificar funcionamiento

## üêõ Soluci√≥n de Problemas

### Problemas Comunes

**Error de conexi√≥n a base de datos**
- Verificar configuraci√≥n en `config/database.php`
- Comprobar que MySQL est√© ejecut√°ndose
- Verificar credenciales de acceso

**Problemas de sincronizaci√≥n**
- Verificar conexi√≥n a internet
- Comprobar estado de la base de datos en l√≠nea
- Revisar logs de errores

**Stock no se actualiza**
- Verificar permisos de escritura en base de datos
- Comprobar transacciones de base de datos
- Revisar logs de movimientos

### Contacto y Soporte
- Para reportar bugs o solicitar caracter√≠sticas
- Documentaci√≥n t√©cnica disponible
- Gu√≠as de usuario en desarrollo

## üìù Licencia

Este proyecto est√° desarrollado para uso interno de la empresa Gardem.

## üîÑ Versiones

### v1.0.0 (Actual)
- Sistema completo de almacenista
- Gesti√≥n de inventario f√≠sico
- Sincronizaci√≥n en l√≠nea
- Gesti√≥n de entregas
- Reportes y exportaci√≥n

### Pr√≥ximas Versiones
- Integraci√≥n con sistema de vendedores
- App m√≥vil para almacenistas
- Dashboard avanzado con gr√°ficos
- Integraci√≥n con proveedores 