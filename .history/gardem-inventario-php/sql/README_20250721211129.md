# üìÅ Carpeta SQL - Sistema de Inventario Gardem

## üóÇÔ∏è Archivos SQL Organizados

### üîß **Scripts de Correcci√≥n de Foreign Keys**

#### `corregir_foreign_keys_xampp.sql`
- **Prop√≥sito:** Corregir foreign keys espec√≠ficamente para XAMPP
- **Uso:** Ejecutar en phpMyAdmin en la base de datos `gardelcatalogo`
- **Funciones:**
  - Elimina foreign keys problem√°ticas existentes
  - Agrega foreign keys correctas para `talla` y `color`
  - Limpia datos hu√©rfanos
  - Verifica la integridad de las relaciones

#### `corregir_foreign_keys_completo.sql`
- **Prop√≥sito:** Script completo para corregir todas las foreign keys
- **Uso:** Ejecutar en phpMyAdmin paso a paso
- **Funciones:**
  - Verificaci√≥n completa de estructura
  - Limpieza de datos hu√©rfanos
  - Correcci√≥n de relaciones entre tablas

#### `agregar_foreign_keys.sql`
- **Prop√≥sito:** Agregar foreign keys b√°sicas
- **Uso:** Para casos simples de correcci√≥n

#### `arreglar_foreign_keys.sql`
- **Prop√≥sito:** Arreglar foreign keys existentes
- **Uso:** Cuando hay problemas con foreign keys actuales

### üîç **Scripts de Verificaci√≥n**

#### `verificar_estructura_salidas.sql`
- **Prop√≥sito:** Verificar la estructura de la tabla `productos_salidas`
- **Uso:** Diagn√≥stico de problemas estructurales

#### `verificar_inventario_bodega.sql`
- **Prop√≥sito:** Verificar la estructura de `inventario_bodega`
- **Uso:** Diagn√≥stico de problemas de inventario

#### `arreglar_salidas.sql`
- **Prop√≥sito:** Arreglar problemas espec√≠ficos en salidas
- **Uso:** Correcci√≥n de datos en `productos_salidas`

### üõ†Ô∏è **Scripts de Mantenimiento**

#### `fix_auto_increment.sql`
- **Prop√≥sito:** Corregir auto-increment en tablas
- **Uso:** Cuando hay problemas con IDs autom√°ticos

### üóÑÔ∏è **Scripts de Base de Datos**

#### `database.sql`
- **Prop√≥sito:** Estructura completa de la base de datos
- **Uso:** Crear base de datos desde cero

#### `database_production.sql`
- **Prop√≥sito:** Estructura optimizada para producci√≥n
- **Uso:** Despliegue en servidor de producci√≥n

## üìã **Rutas de Acceso**

### üåê **URLs del Sistema**

#### **Sistema Principal:**
- **Login:** `http://localhost/gardem/gardem-inventario-php/login.php`
- **Dashboard:** `http://localhost/gardem/gardem-inventario-php/index.php`
- **Inventario:** `http://localhost/gardem/gardem-inventario-php/index.php?page=inventario`
- **Entradas:** `http://localhost/gardem/gardem-inventario-php/index.php?page=entradas`
- **Salidas:** `http://localhost/gardem/gardem-inventario-php/index.php?page=salidas`

#### **Herramientas de Diagn√≥stico:**
- **Verificar Foreign Keys:** `http://localhost/gardem/gardem-inventario-php/verificar_foreign_keys.php`
- **Editar Salida:** `http://localhost/gardem/gardem-inventario-php/editar_salida.php?id=X`

### üìÅ **Rutas de Archivos**

#### **Configuraci√≥n:**
- **Database Config:** `gardem-inventario-php/config/database.php`
- **Main Index:** `gardem-inventario-php/index.php`
- **Login:** `gardem-inventario-php/login.php`

#### **Vistas:**
- **Inventario:** `gardem-inventario-php/vista/inventario.php`
- **Entradas:** `gardem-inventario-php/vista/entradas.php`
- **Salidas:** `gardem-inventario-php/vista/salidas.php`

#### **Controladores:**
- **Auth:** `gardem-inventario-php/controlador/ControladorAuth.php`
- **Inventario:** `gardem-inventario-php/controlador/ControladorInventario.php`
- **Entradas:** `gardem-inventario-php/controlador/ControladorEntradas.php`
- **Salidas:** `gardem-inventario-php/controlador/ControladorSalidas.php`

## üöÄ **Instrucciones de Uso**

### **1. Para Corregir Foreign Keys:**
```sql
-- En phpMyAdmin, ejecutar:
-- 1. Seleccionar base de datos 'gardelcatalogo'
-- 2. Ir a pesta√±a 'SQL'
-- 3. Copiar y pegar el contenido de 'corregir_foreign_keys_xampp.sql'
-- 4. Ejecutar
```

### **2. Para Verificar Estado:**
```php
-- Acceder a: http://localhost/gardem/gardem-inventario-php/verificar_foreign_keys.php
-- Revisar el reporte de estado
-- Hacer clic en "Limpiar Datos Hu√©rfanos" si es necesario
```

### **3. Para Editar Salidas:**
```php
-- Desde la p√°gina de salidas, hacer clic en el √≠cono de editar
-- O acceder directamente: editar_salida.php?id=X
```

## ‚ö†Ô∏è **Notas Importantes**

1. **Siempre hacer backup** antes de ejecutar scripts SQL
2. **Ejecutar scripts** en el orden recomendado
3. **Verificar resultados** despu√©s de cada script
4. **Usar XAMPP** para desarrollo local
5. **Base de datos:** `gardelcatalogo`

## üîó **Enlaces √ötiles**

- **XAMPP Control Panel:** `http://localhost/xampp/`
- **phpMyAdmin:** `http://localhost/phpmyadmin/`
- **Sistema Gardem:** `http://localhost/gardem/gardem-inventario-php/`

---

**üìû Soporte:** Si hay problemas, revisar primero el archivo `verificar_foreign_keys.php` 